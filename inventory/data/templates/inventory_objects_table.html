
<table class="table ttable-light table-hover mt-5">
    <thead>
        <tr>
            <th>Объект инвентаризации</th>
            <th>Инвентарный номер</th>
            <th>Счёт</th>
            <th>Подразделение</th>
            <th>Кабинет</th>
            <th>Ответсвенный</th>
            <th>Состояние</th>
        </tr>
    </thead>
    <tbody>
        {% for item in inventory_list %}

            <tr onclick="toggleDetails('details-{{ forloop.counter }}')" class="clickable-row ">
                <td class='p-3'>{{ item.objects_name }}</td>
                <td>{{ item.inventory_number}}</td>
                <td>{{ item.value }}</td>
                <td>{{ item.base }}</td>
                <td>{{ item.office }}</td>
                <td>{{ item.accountable_user }}</td>
                <td>{{ item.state }} - {{ item.start_data }}</td>
                
            </tr>

            <tr id="details-{{ forloop.counter }}" style="display: none;">
                <td colspan="8">
                    <div class="text-bg-dark p-3">
                        
                        {% if item.qrcode %}
                        
                            <a href="{{ item.qrcode.qr.url }}" type="button" class="btn btn-success" download="{{ item.inventory_number }}_qrcode.png">Скачать QR</a>
                                                        
                        {% else %}
                            No QR Code
                        {% endif %}

                        <a href="{% url 'update' item.pk %}" class="btn btn-warning">Изменить объект</a>
                        <a href="{% url 'delete' item.pk %}" class="btn btn-danger">Удалить обект</a>

                    </div>
                </td>
            </tr>
            
        {% endfor %}

    </tbody>
</table>


<style>
    .clickable-row {
        cursor: pointer;
    }
</style>

<script>
    function toggleDetails(id) {
        var detailsRow = document.getElementById(id);
        if (detailsRow.style.display === "none") {
            detailsRow.style.display = "table-row";
        } else {
            detailsRow.style.display = "none";
        }
    }



</script>
 


