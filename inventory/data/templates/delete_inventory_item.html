{% extends "index.html" %}

{% block content %}

<div class="alert alert-danger alert-dismissible fade show mb-4" role="alert">
    <h4 class="alert-heading">
        <i class="fas fa-exclamation-triangle"></i> Удаление объекта
    </h4>
    <p>Вы собираетесь удалить объект "{{ inventoryitem.objects_name }}".</p>
    <p>Это действие необратимо!</p>
    <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
</div>

<form action="" method="post" class="delete-form">
    {% csrf_token %}
    <div class="mb-3">
        <p class="text-danger">
            <strong>Внимание!</strong> Данное действие приведёт к безвозвратному удалению объекта из базы данных!
        </p>
        <p>
            Вы уверены, что хотите удалить объект <strong>"{{ inventoryitem.objects_name }}"</strong>?
        </p>
    </div>
    <div class="d-flex justify-content-end">
        <button type="submit" class="btn btn-danger me-2">
            <i class="fas fa-trash"></i> Удалить
        </button>
        <a href="{% url 'inventoryitem_list' %}" class="btn btn-secondary">
            <i class="fas fa-arrow-left"></i> Отменить
        </a>
    </div>
</form>

{% endblock content %}

{% block extra_js %}
<script>
// Подтверждение удаления
document.addEventListener('DOMContentLoaded', function() {
    const deleteForm = document.querySelector('.delete-form');
    
    if (deleteForm) {
        deleteForm.addEventListener('submit', function(event) {
            if (!confirm('Подтвердите удаление объекта?')) {
                event.preventDefault();
            }
        });
    }
});
</script>
{% endblock extra_js %}
